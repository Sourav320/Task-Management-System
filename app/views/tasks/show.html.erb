<div class="container mt-4">

   <div class="card mb-4 shadow-sm">
    <div class="card-body">

        <div class="mb-2">
        <span class="fw-semibold">Title:</span>
        <span class="ms-2"><%= @task.title %></span>
        </div>

        <div>
        <span class="fw-semibold">Description:</span>
        <span class="ms-2 text-muted">
            <%= @task.description.presence || "No description provided." %>
        </span>
        </div>

    </div>
    </div>


  <div class="card shadow-sm">
    <div class="card-header bg-light fw-semibold">
      Task Assignments
    </div>

    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>User</th>
            <th>Status</th>
            <th>Start Date</th>
            <th>Due Date</th>
            <th>Completed At</th>
          </tr>
        </thead>

        <tbody>
          <% @task_assignments.each do |assignment| %>
            <tr>
              <td>
                <%= assignment.user.first_name %> <%= assignment.user.last_name %>
              </td>

              <td>
                <span class="badge
                  <%= case assignment.status
                    when "pending" then "bg-secondary"
                    when "in_progress" then "bg-warning text-dark"
                    when "completed" then "bg-success"
                  end %>">
                  <%= assignment.status.humanize %>
                </span>
              </td>

              <td><%= assignment.start_date || "-" %></td>
              <td><%= assignment.due_date || "-" %></td>

              <td>
                <%= assignment.completed_at&.strftime("%d %b %Y, %I:%M %p") || "-" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

</div>
